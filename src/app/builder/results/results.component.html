<div fxFill fxLayout="column" fxLayoutGap="20px">
  <!-- Title -->
  <div fxLayout="row" fxLayoutAlign="space-between center">
    <app-title [title]="'Results'" [info]="titleTooltip" [level]="1"> </app-title>

    <mat-slide-toggle (change)="onToggleUndead($event.checked)" labelPosition="before">Show Undead</mat-slide-toggle>
  </div>

  <!-- Race Accordion -->
  <mat-accordion fxFlex>
    <mat-expansion-panel *ngFor="let race of races">
      <mat-expansion-panel-header fxLayout="row" fxLayoutAlign="space-between center">
        <!-- Panel Title -->
        <mat-panel-title fxFlex>
          <app-title
            title="{{ raceLabels[race] | titlecase }}"
            [info]="getRaceInfoTooltip(race)"
            [level]="4"
            [infoPosition]="'before'"
          >
          </app-title>
        </mat-panel-title>

        <!-- Panel Description -->
        <mat-panel-description fxFlex="120px">
          <div fxLayout="row" fxLayoutAlign="end" fxLayoutGap="8px">
            <span [style.color]="getLockedAttributePointsColor(race)">{{
              getLockedAttributePoints(race) | number : '1.0-0'
            }}</span>
            <span>{{
              (lockedAttribute ? attributeLabels[lockedAttribute] : attributeLabels[weaponType]) | titlecase
            }}</span>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <!-- Panel Content -->
      <div fxLayout="column">
        <app-title
          [title]="'Allocated Points'"
          info="The points you need to allocated for the given race to achieve the desired attributes"
          [level]="4"
        >
        </app-title>

        <!-- Attribute List -->
        <mat-list>
          <ng-container *ngFor="let attribute of allAttributesAndWeaponSkills">
            <mat-list-item *ngIf="getAllocatedPoints(attribute, race) > 0">
              <span>
                {{ attributeLabels[attribute] | titlecase }}
              </span>

              <div fxFlex></div>

              <span>
                {{ getAllocatedPoints(attribute, race) | number : '1.0-0' }}
              </span>
            </mat-list-item>
          </ng-container>
        </mat-list>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
